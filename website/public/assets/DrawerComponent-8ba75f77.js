import{r as g,R as s,j as a,L as P}from"./index-b240b319.js";import{l,D as q,Q as w,G as L,S as G}from"./App-9b3eaaf5.js";import{B as E,a as M}from"./Forms-1ba139c7.js";import{f as A,g as F,h as H}from"./index.esm-6b5a2e01.js";import"https://unpkg.com/prettier@3.0.3/standalone.mjs";import"https://unpkg.com/prettier@3.0.3/plugins/babel.mjs";import"https://unpkg.com/prettier@3.0.3/plugins/estree.mjs";import"https://unpkg.com/prettier@3.0.3/plugins/html.mjs";import"https://unpkg.com/prettier@3.0.3/plugins/postcss.mjs";import"https://unpkg.com/prettier@3.0.3/plugins/typescript.mjs";import"https://unpkg.com/prettier@3.0.3/plugins/markdown.mjs";function D(){return D=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},D.apply(this,arguments)}var K=function(e,n){switch(e){case"left":return{top:0,left:0,transform:"translate3d(-100%, 0, 0)",width:n,height:"100vh"};case"right":return{top:0,right:0,transform:"translate3d(100%, 0, 0)",width:n,height:"100vh"};case"bottom":return{left:0,right:0,bottom:0,transform:"translate3d(0, 100%, 0)",width:"100%",height:n};case"top":return{left:0,right:0,top:0,transform:"translate3d(0, -100%, 0)",width:"100%",height:n};default:return{}}},Q=function(e){var n=e.open,o=e.onClose,u=o===void 0?function(){}:o,f=e.children,i=e.style,h=e.enableOverlay,v=h===void 0?!0:h,c=e.overlayColor,y=c===void 0?"#000":c,t=e.overlayOpacity,x=t===void 0?.4:t,p=e.zIndex,b=p===void 0?100:p,_=e.duration,C=_===void 0?500:_,O=e.direction,j=e.size,B=j===void 0?250:j,I=e.className,S=e.customIdSuffix,N=e.lockBackgroundScroll,Z=N===void 0?!1:N,k=e.overlayClassName,$=k===void 0?"":k,m=g.useRef(null);g.useEffect(function(){var z=function(){m.current=window.document.querySelector("body"),m.current&&Z&&(n?m.current.style.overflow="hidden":m.current.style.overflow="")};z()},[n]);var d=g.useMemo(function(){return S||(Math.random()+1).toString(36).substring(7)},[S]),R={backgroundColor:""+y,opacity:""+x,zIndex:b},T=D({zIndex:b+1,transitionDuration:C+"ms"},K(O,B),i);return s.createElement("div",{id:"EZDrawer"+d,className:"EZDrawer"},s.createElement("input",{type:"checkbox",id:"EZDrawer__checkbox"+d,className:"EZDrawer__checkbox",onChange:u,checked:n}),s.createElement("nav",{role:"navigation",id:"EZDrawer__container"+d,style:T,className:"EZDrawer__container "+I},f),v&&s.createElement("label",{htmlFor:"EZDrawer__checkbox"+d,id:"EZDrawer__overlay"+d,className:"EZDrawer__overlay "+$,style:R}))};const J=Q;function U(){return a.jsx("section",{className:"info",children:a.jsx("h3",{children:l.dbempty})})}const V=r=>a.jsxs("section",{className:"card",children:[a.jsxs("header",{className:"card-header",children:[a.jsx("div",{className:"card-header-left",children:a.jsx("div",{className:"card-header-text",children:r.data.title})}),a.jsxs("div",{className:"card-header-right",children:[r.data.public?a.jsx("a",{title:l.preview,rel:"noopener",target:"_blank",href:`/api/share/${r.data.key}`,className:"button",style:{marginRight:"5px"},children:a.jsx(A,{})}):"",a.jsx(E,{title:l.editcode,className:"button button-success",style:{marginRight:"5px"},onClick:r.openBin,children:a.jsx(F,{})}),a.jsx(E,{title:l.delete,className:"button button-danger",onClick:r.deleteBin,children:a.jsx(H,{})})]})]}),a.jsx("footer",{className:"card-footer",children:a.jsxs("div",{className:"card-footer-left",children:[l.lastupdate,": ",r.data.update_at]})})]}),W=V;function de(r){const[e,n]=s.useState(""),[o,u]=s.useState([]),[f,i]=s.useState(!0);s.useEffect(()=>{c()},[r.isOpen]);const h=s.useCallback(t=>{t.key==="Enter"&&(t.target.value===""?c():y())}),v=s.useCallback(async t=>{confirm(l.areyousure)&&((await q(t)).success?(w.success(l.coderemoved,{position:w.POSITION.BOTTOM_RIGHT}),c()):w.error(l.coderemovederr))});async function c(){if(r.isOpen){i(!0);const t=await L();t.success&&(u(t.data),i(!1))}}async function y(){i(!0);const t=await G(e);t.success&&(u(t.data),i(!1))}return a.jsxs(J,{open:r.isOpen,onClose:r.toggleDrawer,direction:"left",className:"drawer-menu",children:[a.jsx("header",{className:"drawer-header",children:a.jsx(M,{id:"Search",name:"Search",required:!0,value:e,onChange:t=>n(t.target.value),onKeyPress:h,placeholder:l.searchtitle})}),a.jsx("section",{className:"drawer-body",children:f?a.jsx(P,{}):o.length>0?o.map((t,x)=>a.jsx(W,{openBin:()=>r.handleOpenBin(t.key),deleteBin:()=>v(t.key),data:t},t.key)):a.jsx(U,{})})]})}export{de as default};
