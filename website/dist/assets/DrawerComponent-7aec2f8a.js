import{j as e,R as r}from"./react-bc4db9fe.js";import{Q as c}from"./react-toastify-820401bd.js";import{D as g}from"./react-modern-drawer-24b299b5.js";import{l as s,D,G as y,S as N}from"./App-4cb1d6bf.js";import{B as m,a as B}from"./Forms-4afd8d76.js";import{f as w,g as b,h as k}from"./react-icons-3de46a05.js";import{L as S}from"./index-31462ae3.js";import"./prop-types-2b84e597.js";import"./clsx-1229b3e0.js";import"./@codemirror-567a82bb.js";import"./@lezer-a76f72fe.js";import"./crelt-7bb88e1d.js";import"./style-mod-fd510d21.js";import"./w3c-keyname-9fb136d3.js";import"./react-split-c360ae51.js";import"./split.js-822f4990.js";import"./react-dom-18e1a3a7.js";import"./scheduler-765c72db.js";/* empty css                      */function C(){return e.jsx("section",{className:"info",children:e.jsx("h3",{children:s.dbempty})})}const O=t=>e.jsxs("section",{className:"card",children:[e.jsxs("header",{className:"card-header",children:[e.jsx("div",{className:"card-header-left",children:e.jsx("div",{className:"card-header-text",children:t.data.title})}),e.jsxs("div",{className:"card-header-right",children:[t.data.public?e.jsx("a",{title:s.preview,rel:"noopener",target:"_blank",href:`/api/share/${t.data.key}`,className:"button",style:{marginRight:"5px"},children:e.jsx(w,{})}):"",e.jsx(m,{title:s.editcode,className:"button button-success",style:{marginRight:"5px"},onClick:t.openBin,children:e.jsx(b,{})}),e.jsx(m,{title:s.delete,className:"button button-danger",onClick:t.deleteBin,children:e.jsx(k,{})})]})]}),e.jsx("footer",{className:"card-footer",children:e.jsxs("div",{className:"card-footer-left",children:[s.lastupdate,": ",t.data.update_at]})})]}),v=O;function V(t){const[o,h]=r.useState(""),[l,d]=r.useState([]),[u,n]=r.useState(!0);r.useEffect(()=>{i()},[t.isOpen]);const f=r.useCallback(a=>{a.key==="Enter"&&(a.target.value===""?i():p())}),x=r.useCallback(async a=>{confirm(s.areyousure)&&((await D(a)).success?(c.success(s.coderemoved,{position:c.POSITION.BOTTOM_RIGHT}),i()):c.error(s.coderemovederr))});async function i(){if(t.isOpen){n(!0);const a=await y();a.success&&(d(a.data),n(!1))}}async function p(){n(!0);const a=await N(o);a.success&&(d(a.data),n(!1))}return e.jsxs(g,{open:t.isOpen,onClose:t.toggleDrawer,direction:"left",className:"drawer-menu",children:[e.jsx("header",{className:"drawer-header",children:e.jsx(B,{id:"Search",name:"Search",required:!0,value:o,onChange:a=>h(a.target.value),onKeyPress:f,placeholder:s.searchtitle})}),e.jsx("section",{className:"drawer-body",children:u?e.jsx(S,{}):l.length>0?l.map((a,j)=>e.jsx(v,{openBin:()=>t.handleOpenBin(a.key),deleteBin:()=>x(a.key),data:a},a.key)):e.jsx(C,{})})]})}export{V as default};
