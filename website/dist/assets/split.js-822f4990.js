var d=typeof window<"u"?window:null,X=d===null,M=X?void 0:d.document,m="addEventListener",g="removeEventListener",W="getBoundingClientRect",E="_a",h="_b",z="_c",C="horizontal",S=function(){return!1},ge=X?"calc":["","-webkit-","-moz-","-o-"].filter(function(s){var i=M.createElement("div");return i.style.cssText="width:"+s+"calc(9px)",!!i.style.length}).shift()+"calc",te=function(s){return typeof s=="string"||s instanceof String},ee=function(s){if(te(s)){var i=M.querySelector(s);if(!i)throw new Error("Selector "+s+" did not match a DOM element");return i}return s},f=function(s,i,a){var l=s[i];return l!==void 0?l:a},G=function(s,i,a,l){if(i){if(l==="end")return 0;if(l==="center")return s/2}else if(a){if(l==="start")return 0;if(l==="center")return s/2}return s},he=function(s,i){var a=M.createElement("div");return a.className="gutter gutter-"+i,a},Se=function(s,i,a){var l={};return te(i)?l[s]=i:l[s]=ge+"("+i+"% - "+a+"px)",l},ze=function(s,i){var a;return a={},a[s]=i+"px",a},ye=function(s,i){if(i===void 0&&(i={}),X)return{};var a=s,l,D,L,j,B,o;Array.from&&(a=Array.from(a));var re=ee(a[0]),x=re.parentNode,Y=getComputedStyle?getComputedStyle(x):null,Z=Y?Y.flexDirection:null,I=f(i,"sizes")||a.map(function(){return 100/a.length}),N=f(i,"minSize",100),R=Array.isArray(N)?N:a.map(function(){return N}),P=f(i,"maxSize",1/0),ne=Array.isArray(P)?P:a.map(function(){return P}),ie=f(i,"expandToMin",!1),O=f(i,"gutterSize",10),A=f(i,"gutterAlign","center"),_=f(i,"snapOffset",30),ae=Array.isArray(_)?_:a.map(function(){return _}),H=f(i,"dragInterval",1),b=f(i,"direction",C),q=f(i,"cursor",b===C?"col-resize":"row-resize"),se=f(i,"gutter",he),J=f(i,"elementStyle",Se),le=f(i,"gutterStyle",ze);b===C?(l="width",D="clientX",L="left",j="right",B="clientWidth"):b==="vertical"&&(l="height",D="clientY",L="top",j="bottom",B="clientHeight");function w(r,e,t,n){var c=J(l,e,t,n);Object.keys(c).forEach(function(u){r.style[u]=c[u]})}function ue(r,e,t){var n=le(l,e,t);Object.keys(n).forEach(function(c){r.style[c]=n[c]})}function F(){return o.map(function(r){return r.size})}function K(r){return"touches"in r?r.touches[0][D]:r[D]}function Q(r){var e=o[this.a],t=o[this.b],n=e.size+t.size;e.size=r/this.size*n,t.size=n-r/this.size*n,w(e.element,e.size,this[h],e.i),w(t.element,t.size,this[z],t.i)}function oe(r){var e,t=o[this.a],n=o[this.b];this.dragging&&(e=K(r)-this.start+(this[h]-this.dragOffset),H>1&&(e=Math.round(e/H)*H),e<=t.minSize+t.snapOffset+this[h]?e=t.minSize+this[h]:e>=this.size-(n.minSize+n.snapOffset+this[z])&&(e=this.size-(n.minSize+this[z])),e>=t.maxSize-t.snapOffset+this[h]?e=t.maxSize+this[h]:e<=this.size-(n.maxSize-n.snapOffset+this[z])&&(e=this.size-(n.maxSize+this[z])),Q.call(this,e),f(i,"onDrag",S)(F()))}function V(){var r=o[this.a].element,e=o[this.b].element,t=r[W](),n=e[W]();this.size=t[l]+n[l]+this[h]+this[z],this.start=t[L],this.end=t[j]}function ce(r){if(!getComputedStyle)return null;var e=getComputedStyle(r);if(!e)return null;var t=r[B];return t===0?null:(b===C?t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight):t-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),t)}function $(r){var e=ce(x);if(e===null||R.reduce(function(u,v){return u+v},0)>e)return r;var t=0,n=[],c=r.map(function(u,v){var p=e*u/100,U=G(O,v===0,v===r.length-1,A),k=R[v]+U;return p<k?(t+=k-p,n.push(0),k):(n.push(p-k),p)});return t===0?r:c.map(function(u,v){var p=u;if(t>0&&n[v]-t>0){var U=Math.min(t,n[v]-t);t-=U,p=u-U}return p/e*100})}function fe(){var r=this,e=o[r.a].element,t=o[r.b].element;r.dragging&&f(i,"onDragEnd",S)(F()),r.dragging=!1,d[g]("mouseup",r.stop),d[g]("touchend",r.stop),d[g]("touchcancel",r.stop),d[g]("mousemove",r.move),d[g]("touchmove",r.move),r.stop=null,r.move=null,e[g]("selectstart",S),e[g]("dragstart",S),t[g]("selectstart",S),t[g]("dragstart",S),e.style.userSelect="",e.style.webkitUserSelect="",e.style.MozUserSelect="",e.style.pointerEvents="",t.style.userSelect="",t.style.webkitUserSelect="",t.style.MozUserSelect="",t.style.pointerEvents="",r.gutter.style.cursor="",r.parent.style.cursor="",M.body.style.cursor=""}function ve(r){if(!("button"in r&&r.button!==0)){var e=this,t=o[e.a].element,n=o[e.b].element;e.dragging||f(i,"onDragStart",S)(F()),r.preventDefault(),e.dragging=!0,e.move=oe.bind(e),e.stop=fe.bind(e),d[m]("mouseup",e.stop),d[m]("touchend",e.stop),d[m]("touchcancel",e.stop),d[m]("mousemove",e.move),d[m]("touchmove",e.move),t[m]("selectstart",S),t[m]("dragstart",S),n[m]("selectstart",S),n[m]("dragstart",S),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.MozUserSelect="none",t.style.pointerEvents="none",n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none",n.style.pointerEvents="none",e.gutter.style.cursor=q,e.parent.style.cursor=q,M.body.style.cursor=q,V.call(e),e.dragOffset=K(r)-e.end}}I=$(I);var y=[];o=a.map(function(r,e){var t={element:ee(r),size:I[e],minSize:R[e],maxSize:ne[e],snapOffset:ae[e],i:e},n;if(e>0&&(n={a:e-1,b:e,dragging:!1,direction:b,parent:x},n[h]=G(O,e-1===0,!1,A),n[z]=G(O,!1,e===a.length-1,A),Z==="row-reverse"||Z==="column-reverse")){var c=n.a;n.a=n.b,n.b=c}if(e>0){var u=se(e,b,t.element);ue(u,O,e),n[E]=ve.bind(n),u[m]("mousedown",n[E]),u[m]("touchstart",n[E]),x.insertBefore(u,t.element),n.gutter=u}return w(t.element,t.size,G(O,e===0,e===a.length-1,A),e),e>0&&y.push(n),t});function T(r){var e=r.i===y.length,t=e?y[r.i-1]:y[r.i];V.call(t);var n=e?t.size-r.minSize-t[z]:r.minSize+t[h];Q.call(t,n)}o.forEach(function(r){var e=r.element[W]()[l];e<r.minSize&&(ie?T(r):r.minSize=e)});function de(r){var e=$(r);e.forEach(function(t,n){if(n>0){var c=y[n-1],u=o[c.a],v=o[c.b];u.size=e[n-1],v.size=t,w(u.element,u.size,c[h],u.i),w(v.element,v.size,c[z],v.i)}})}function me(r,e){y.forEach(function(t){if(e!==!0?t.parent.removeChild(t.gutter):(t.gutter[g]("mousedown",t[E]),t.gutter[g]("touchstart",t[E])),r!==!0){var n=J(l,t.a.size,t[h]);Object.keys(n).forEach(function(c){o[t.a].element.style[c]="",o[t.b].element.style[c]=""})}})}return{setSizes:de,getSizes:F,collapse:function(e){T(o[e])},destroy:me,parent:x,pairs:y}};export{ye as S};
