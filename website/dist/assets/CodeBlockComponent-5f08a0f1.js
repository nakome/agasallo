import{R as l,j as s}from"./react-bc4db9fe.js";import{f as v,i as w,j as x,k as f,l as k}from"./react-icons-3de46a05.js";import{C as u,l as p,a as y}from"./@uiw-01a2bb8c.js";import{b as g,B as h}from"./Forms-4afd8d76.js";import{l as o}from"./App-4cb1d6bf.js";import"./prop-types-2b84e597.js";import"./@babel-6c5c234b.js";import"./@codemirror-567a82bb.js";import"./@lezer-a76f72fe.js";import"./crelt-7bb88e1d.js";import"./style-mod-fd510d21.js";import"./w3c-keyname-9fb136d3.js";import"./codemirror-lang-mermaid-f33b1201.js";import"./@replit-fad80cbf.js";import"./@nextjournal-bd92cc22.js";import"./react-toastify-820401bd.js";import"./clsx-1229b3e0.js";import"./react-split-c360ae51.js";import"./split.js-822f4990.js";import"./index-31462ae3.js";import"./react-dom-18e1a3a7.js";import"./scheduler-765c72db.js";/* empty css                      */const C=async t=>{try{const e=await await c("/api/convert/to/md",{html_code:t});return e.status?e.data:"Error: "+JSON.stringify(e)}catch(a){return a}},S=async t=>{try{const e=await await c("/api/convert/to/scss",{css_code:t});return e.status?e.data:"Error: "+JSON.stringify(e)}catch(a){return a}},N=async t=>{try{const e=await await c("/api/convert/to/ts",{js_code:t});return e.status?e.data:"Error: "+JSON.stringify(e)}catch(a){return a}},B=async t=>{try{const e=await await c("/api/convert/to/babel",{js_code:t});return e.status?e.data:"Error: "+JSON.stringify(e)}catch(a){return a}};async function c(t,a){let e={method:"POST",body:JSON.stringify(a),headers:{"content-type":"application/json"}};return await(await fetch(t,e)).json()}function W(t){const[a,e]=l.useState(""),[n,d]=l.useState(!1),[m,b]=l.useState("html"),j=async()=>{if(d(!n),e(o.loading),!n){let i,r;switch(t.type){case"markdown":i="markdown",r=await C(t.content);break;case"html":r=o.selectmdfirst;break;case"sass":i="sass",r=await S(t.content);break;case"css":r=o.selectsassfirst;break;case"typescript":i="typescript",r=await N(t.content);break;case"babel":i="babel",r=await B(t.content);break;case"javascript":r=o.selecttsfirst;break}b(i||t.type),e(r)}};return s.jsxs("div",{className:"code",children:[s.jsxs("div",{className:"code-header",children:[s.jsx(g,{name:t.name,id:t.name,value:t.type,onChange:t.setType,values:t.values}),s.jsxs("div",{className:"code-header-right",children:[t.isPublic&&s.jsx("a",{rel:"noopener",target:"_blank",href:`${location.origin}/api/share/${t.idkey}/${t.type}`,children:s.jsx(v,{})}),s.jsx(h,{onClick:j,className:n?"button-active":"",title:o.convertcode,children:n?s.jsx(w,{}):s.jsx(x,{})}),s.jsx(h,{onClick:t.expand,title:o.expandblock,children:t.active?s.jsx(f,{}):s.jsx(k,{})})]})]}),s.jsx("div",{className:"code-body",children:n?s.jsx(u,{readOnly:!0,value:a,height:"100%",extensions:[p(m==="babel"?"javascript":m)],theme:y}):s.jsx(u,{value:t.content,height:"100%",extensions:[p(t.type==="babel"?"javascript":t.type)],theme:y,onChange:t.setContent})})]})}export{W as default};
