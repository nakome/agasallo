import{j as e,R as i}from"./react-bc4db9fe.js";import{Q as c}from"./react-toastify-820401bd.js";import{D}from"./react-modern-drawer-24b299b5.js";import{l as r,G as g,D as y,S as w}from"./App-ee1ef5a8.js";import{B as h,a as B}from"./Forms-4afd8d76.js";import{f as N,g as S,h as b}from"./react-icons-3de46a05.js";import{L as k}from"./index-dca5c9fa.js";import"./prop-types-2b84e597.js";import"./clsx-1229b3e0.js";import"./@codemirror-de353bb9.js";import"./@lezer-a76f72fe.js";import"./crelt-7bb88e1d.js";import"./style-mod-fd510d21.js";import"./w3c-keyname-9fb136d3.js";import"./react-split-c360ae51.js";import"./split.js-822f4990.js";import"./react-dom-18e1a3a7.js";import"./scheduler-765c72db.js";/* empty css                      */function v(){return e.jsx("section",{className:"info",children:e.jsx("h3",{children:r.dbempty})})}const O=a=>e.jsxs("section",{className:"card",children:[e.jsxs("header",{className:"card-header",children:[e.jsx("div",{className:"card-header-left",children:e.jsx("div",{className:"card-header-text",children:a.data.title})}),e.jsxs("div",{className:"card-header-right",children:[a.data.public?e.jsx("a",{title:r.preview,rel:"noopener",target:"_blank",href:`/api/share/${a.data.key}`,className:"button",style:{marginRight:"5px"},children:e.jsx(N,{})}):"",e.jsx(h,{title:r.editcode,className:"button button-success",style:{marginRight:"5px"},onClick:a.openBin,children:e.jsx(S,{})}),e.jsx(h,{title:r.delete,className:"button button-danger",onClick:a.deleteBin,children:e.jsx(b,{})})]})]}),e.jsx("footer",{className:"card-footer",children:e.jsxs("div",{className:"card-footer-left",children:[r.lastupdate,": ",a.data.update_at]})})]}),C=O,T=a=>e.jsx("header",{className:"drawer-header",...a,children:a.children}),R=a=>e.jsx("section",{className:"drawer-body",...a,children:a.children});function X(a){const[o,m]=i.useState(""),[d,l]=i.useState([]),[u,s]=i.useState(!0),x=t=>{t.key==="Enter"&&(t.target.value===""?n():j())};i.useEffect(()=>{n()},[a.isOpen]);const f=async t=>{confirm(r.areyousure)&&((await y(t)).success?(c.success(r.coderemoved,{position:c.POSITION.BOTTOM_RIGHT}),n()):c.error(r.coderemovederr))};async function n(){s(!0);const t=await g();t.success&&(l(t.data),s(!1))}async function j(){s(!0);const t=await w(o);t.success&&(l(t.data),s(!1))}return e.jsxs(D,{open:a.isOpen,onClose:a.toggleDrawer,direction:"left",className:"drawer-menu",children:[e.jsx(T,{children:e.jsx(B,{id:"Search",name:"Search",required:!0,value:o,onChange:t=>m(t.target.value),onKeyPress:x,placeholder:r.searchtitle})}),e.jsx(R,{children:e.jsx("section",{style:{position:"relative",width:"100%",height:"100%"},children:u?e.jsx(k,{}):d.count>0?d.items.map((t,p)=>e.jsx(C,{openBin:()=>a.handleOpenBin(t.key),deleteBin:()=>f(t.key),data:t},t.key)):e.jsx(v,{})})})]})}export{X as default};
